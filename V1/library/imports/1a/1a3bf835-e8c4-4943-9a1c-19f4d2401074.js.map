{"version":3,"sources":["assets\\scripts\\Loading\\loading.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,kFAAkF;AAClF,yFAAyF;AACzF,mBAAmB;AACnB,4FAA4F;AAC5F,mGAAmG;AACnG,8BAA8B;AAC9B,4FAA4F;AAC5F,mGAAmG;;;;;;;;;;;;;;;;;;;;;AAE7F,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAA6C,mCAAY;IAAzD;QAAA,qEA6DC;QA5DG,MAAM;QACoB,iBAAW,GAAmB,IAAI,CAAC;QAC7D,UAAU;QACU,kBAAY,GAAa,IAAI,CAAC;QAClD,SAAS;QACW,qBAAe,GAAa,IAAI,CAAC;QACrD,OAAO;QACP,cAAQ,GAAW,CAAC,CAAC;;IAqDzB,CAAC;IA/CG,aAAa;IACb,6BAA6B;IAC7B,6EAA6E;IAC7E,gBAAgB;IAChB,IAAI;IAGJ;;;OAGG;IACH,sCAAY,GAAZ,UAAa,QAAQ;QACjB,IAAI,CAAC,oBAAoB,GAAG,QAAQ,CAAC;IACzC,CAAC;IAGD;;;OAGG;IACH,oCAAU,GAAV,UAAW,QAAQ;QACf,IAAI,CAAC,kBAAkB,GAAG,QAAQ,CAAC;IACvC,CAAC;IAGD;;;;OAIG;IACH,qCAAW,GAAX,UAAY,QAAgB,EAAE,OAAgB;QAC1C,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,OAAO,EAAE;YACT,IAAI,CAAC,eAAe,CAAC,MAAM,GAAG,OAAO,CAAC;SACzC;IACL,CAAC;IAGD;;OAEG;IACH,wCAAc,GAAd;QACI,IAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC;QACvD,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACrC,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,GAAG,CAAC,CAAC,CAAC;IAClE,CAAC;IA1DyB;QAAzB,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;wDAAoC;IAEzC;QAAnB,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;yDAA+B;IAE9B;QAAnB,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;4DAAkC;IANpC,eAAe;QADnC,OAAO;OACa,eAAe,CA6DnC;IAAD,sBAAC;CA7DD,AA6DC,CA7D4C,EAAE,CAAC,SAAS,GA6DxD;kBA7DoB,eAAe","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class ProgressLoading extends cc.Component {\r\n    // 进度条\r\n    @property(cc.ProgressBar) ProgressBar: cc.ProgressBar = null;\r\n    // 进度百分比节点\r\n    @property(cc.Label) ProgressText: cc.Label = null;\r\n    // 加载状态信息\r\n    @property(cc.Label) ProgressMessage: cc.Label = null;\r\n    // 当前进度\r\n    progress: number = 0;\r\n    // 开始时的回调\r\n    startLoadingCallBack: any;\r\n    // 结束时的回调\r\n    endLoadingCallBack: any;\r\n\r\n    // start () {\r\n    //     // setInterval(() => {\r\n    //     //     this.updateValue(this.progress > 1 ? 0 : this.progress += 0.01)\r\n    //     // }, 50)\r\n    // }\r\n\r\n\r\n    /**\r\n     * 完成时\r\n     * @param callback 回调\r\n     */\r\n    startLoading(callback) {\r\n        this.startLoadingCallBack = callback;\r\n    }\r\n\r\n\r\n    /**\r\n     * 进度完成时\r\n     * @param callback 回调函数\r\n     */\r\n    endLoading(callback) {\r\n        this.endLoadingCallBack = callback;\r\n    }\r\n\r\n\r\n    /**\r\n     * 更新进度\r\n     * @param progress 进度值\r\n     * @param message  进度内容\r\n     */\r\n    updateValue(progress: number, message?: string) {\r\n        this.progress = progress;\r\n        this.progressRender();\r\n        if (message) {\r\n            this.ProgressMessage.string = message;\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * 加载渲染\r\n     */\r\n    progressRender() {\r\n        const progress = this.progress > 1 ? 1 : this.progress;\r\n        this.ProgressBar.progress = progress;\r\n        this.ProgressText.string = String(Math.round(progress * 100));\r\n    }\r\n}\r\n"]}