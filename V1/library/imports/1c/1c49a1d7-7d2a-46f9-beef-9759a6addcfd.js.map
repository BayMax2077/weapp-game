{"version":3,"sources":["assets\\resources\\prefab\\script\\GroupLoading.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,wEAAwE;AACxE,mBAAmB;AACnB,kFAAkF;AAClF,8BAA8B;AAC9B,kFAAkF;;;;;;;;;;;;;;;;;;;;;AAE5E,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAA0C,gCAAY;IAAtD;QAAA,qEA+CC;QA9CG,IAAI;QACe,UAAI,GAAc,EAAE,CAAC;QACxC,KAAK;QACc,aAAO,GAAY,IAAI,CAAC;QAC3C,KAAK;QACc,UAAI,GAAY,IAAI,CAAC;;IAyC5C,CAAC;IArCG,4BAAK,GAAL;QAAA,iBAmBC;QAlBG,OAAO;QACP,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,CAAC,CAAC;QACzB,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;QAEtC,QAAQ;QACR,IAAI,OAAO,GAAG,CAAC,CAAC;QAChB,IAAI,CAAC,KAAK,GAAG,WAAW,CAAC;YACrB,KAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS,CACxB,EAAE,CAAC,QAAQ,CACP,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC,EACnD,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC,CACpD,CACJ,CAAC;YACF,KAAI,CAAC,IAAI,CAAC,SAAS,CACf,EAAE,CAAC,QAAQ,CAAC,EAAE,EAAE,OAAO,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC,CACzF,CAAC;YACF,IAAI,EAAE,OAAO,KAAK,CAAC;gBAAE,OAAO,GAAG,CAAC,CAAC;QACrC,CAAC,EAAE,IAAI,CAAC,CAAC;IACb,CAAC;IAED;;OAEG;IACH,4BAAK,GAAL;QAAA,iBAQC;QAPG,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC1B,IAAI,CAAC,OAAO,CAAC,SAAS,CAClB,EAAE,CAAC,QAAQ,CACP,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,EACd,EAAE,CAAC,QAAQ,CAAC,cAAM,OAAA,KAAI,CAAC,IAAI,CAAC,OAAO,EAAE,EAAnB,CAAmB,CAAC,CACzC,CACJ,CAAC;IACN,CAAC;IAED,gCAAS,GAAT;QACI,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC9B,CAAC;IA5CkB;QAAlB,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;8CAAsB;IAErB;QAAlB,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;iDAAyB;IAExB;QAAlB,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;8CAAsB;IANvB,YAAY;QADhC,OAAO;OACa,YAAY,CA+ChC;IAAD,mBAAC;CA/CD,AA+CC,CA/CyC,EAAE,CAAC,SAAS,GA+CrD;kBA/CoB,YAAY","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class GroupLoading extends cc.Component {\r\n    // 点\r\n    @property(cc.Node) spot: cc.Node[] = [];\r\n    // 背景\r\n    @property(cc.Node) backage: cc.Node = null;\r\n    // 内容\r\n    @property(cc.Node) info: cc.Node = null;\r\n    // 时钟\r\n    clock;\r\n\r\n    start() {\r\n        // 背景渐显\r\n        this.backage.opacity = 0;\r\n        this.backage.runAction(cc.fadeIn(.5));\r\n\r\n        // 加载中效果\r\n        let spotNum = 0;\r\n        this.clock = setInterval(() => {\r\n            this.spot[spotNum].runAction(\r\n                cc.sequence(\r\n                    cc.scaleTo(.5, 1.2, 1.2).easing(cc.easeSineInOut()),\r\n                    cc.scaleTo(.2, .6, .3).easing(cc.easeSineInOut()),\r\n                )\r\n            );\r\n            this.info.runAction(\r\n                cc.rotateTo(.3, spotNum === 0 ? -5 : spotNum === 1 ? 0 : 5).easing(cc.easeSineInOut())\r\n            );\r\n            if (++spotNum === 3) spotNum = 0;\r\n        }, 1000);\r\n    }\r\n\r\n    /**\r\n     * 关计时器\r\n     */\r\n    close() {\r\n        clearInterval(this.clock);\r\n        this.backage.runAction(\r\n            cc.sequence(\r\n                cc.fadeOut(.5),\r\n                cc.callFunc(() => this.node.destroy()),\r\n            ),\r\n        );\r\n    }\r\n\r\n    onDestroy() {\r\n        clearInterval(this.clock);\r\n    }\r\n}\r\n"]}