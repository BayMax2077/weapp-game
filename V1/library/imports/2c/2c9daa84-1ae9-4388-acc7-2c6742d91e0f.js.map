{"version":3,"sources":["assets\\scripts\\Home\\shop\\shopItem.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,kFAAkF;AAClF,yFAAyF;AACzF,mBAAmB;AACnB,4FAA4F;AAC5F,mGAAmG;AACnG,8BAA8B;AAC9B,4FAA4F;AAC5F,mGAAmG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAE7F,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAC1C,kDAAyD;AAKzD;IAA0C,gCAAY;IAAtD;QAAA,qEAyEC;QAxEG,MAAM;QACe,UAAI,GAAc,IAAI,CAAC;QAC5C,KAAK;QACe,WAAK,GAAa,IAAI,CAAC;QAC3C,KAAK;QACgB,UAAI,GAAc,IAAI,CAAC;QAC5C,OAAO;QACc,iBAAW,GAAc,IAAI,CAAC;QACnD,OAAO;QACc,kBAAY,GAAc,IAAI,CAAC;QACpD,OAAO;QACmB,iBAAW,GAAqB,EAAE,CAAC;;IA6DjE,CAAC;IApDG;;;OAGG;IACH,2BAAI,GAAJ,UAAK,QAAkB;QAAvB,iBAaC;QAZG,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,QAAQ,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;QAC9C,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC;QAErB,IAAI,CAAC,YAAY,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,eAAe,GAAG,CAAC,CAAC,CAAC;QAE/E,cAAO,CAAI,UAAG,mBAAc,QAAQ,CAAC,IAAI,cAAW,EAAE,UAAC,WAAW;YAC9D,KAAI,CAAC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QACxC,CAAC,CAAC,CAAC;QAEH,cAAO,CAAI,UAAG,qBAAgB,QAAQ,CAAC,IAAI,SAAM,EAAE,UAAC,WAAW;YAC3D,KAAI,CAAC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QACxC,CAAC,CAAC,CAAC;IACP,CAAC;IAGD;;OAEG;IACH,4BAAK,GAAL;QACI,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;IACxC,CAAC;IAGD;;OAEG;IACH,2BAAI,GAAJ;QACI,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;IACtC,CAAC;IAGD;;OAEG;IACG,8BAAO,GAAb;;;;;;wBACU,KAAuB,IAAI,EAAzB,IAAI,UAAA,EAAE,UAAU,gBAAA,CAAU;wBAClC,KAAA,UAAU,CAAA;iCAAV,wBAAU;wBAAI,qBAAM,UAAU,CAAC,IAAI,CAAC,EAAA;;8BAAtB,SAAsB;;;wBAApC,GAAqC;;;;;KACxC;IAGD;;OAEG;IACH,0BAAG,GAAH;QACI,IAAI,CAAC,OAAO,EAAE,CAAC;QACf,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACzC,CAAC;IAtEoB;QAApB,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;8CAAwB;IAExB;QAAnB,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;+CAAwB;IAEtB;QAApB,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;8CAAwB;IAEvB;QAApB,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;qDAA+B;IAE9B;QAApB,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;sDAAgC;IAE1B;QAAzB,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;qDAAoC;IAZ5C,YAAY;QADhC,OAAO;OACa,YAAY,CAyEhC;IAAD,mBAAC;CAzED,AAyEC,CAzEyC,EAAE,CAAC,SAAS,GAyErD;kBAzEoB,YAAY","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\nimport { url, loadImg } from '../../../scripts/lib/tool';\r\nimport { ShopItem } from '../../interface/shop';\r\nimport parentClass from './Shop';\r\n\r\n@ccclass\r\nexport default class ShopListItem extends cc.Component {\r\n    // 物品名\r\n    @property(cc.Sprite) Name: cc.Sprite = null;\r\n    // 价格\r\n    @property(cc.Label) Price: cc.Label = null;\r\n    // 图标\r\n    @property(cc.Sprite) icon: cc.Sprite = null;\r\n    // 焦点样式\r\n    @property(cc.Sprite) focusSprite: cc.Sprite = null;\r\n    // 货币节点\r\n    @property(cc.Sprite) currencyNode: cc.Sprite = null;\r\n    // 货币样式\r\n    @property(cc.SpriteFrame) buyCurrency: cc.SpriteFrame[] = [];\r\n\r\n\r\n    // 点击触发的事件\r\n    clickEvent: any;\r\n    data: any;\r\n    parentClass: parentClass;\r\n\r\n\r\n    /**\r\n     * 初始化\r\n     * @param data - 数据\r\n     */\r\n    init(opaction: ShopItem) {\r\n        this.Price.string = opaction.price.toString();\r\n        this.data = opaction;\r\n\r\n        this.currencyNode.spriteFrame = this.buyCurrency[opaction.bay_currency_id - 1];\r\n       \r\n        loadImg(`${url}/text/shop/${opaction.icon}-text.png`, (spriteFrame) => {\r\n            this.Name.spriteFrame = spriteFrame;\r\n        });\r\n        \r\n        loadImg(`${url}/H5Game/shop/${opaction.icon}.png`, (spriteFrame) => {\r\n            this.icon.spriteFrame = spriteFrame;\r\n        });\r\n    }\r\n    \r\n\r\n    /**\r\n     * 获得焦点\r\n     */\r\n    focus() {\r\n        this.focusSprite.node.opacity = 255;\r\n    }\r\n    \r\n\r\n    /**\r\n     * 失去焦点\r\n     */\r\n    blur() {\r\n        this.focusSprite.node.opacity = 0;\r\n    }\r\n\r\n\r\n    /**\r\n     * 点击事件\r\n     */\r\n    async onClick() {\r\n        const { data, clickEvent } = this;\r\n        clickEvent && await clickEvent(data);\r\n    }\r\n\r\n\r\n    /**\r\n     * 点击购买\r\n     */\r\n    buy() {\r\n        this.onClick();\r\n        this.parentClass.buyGoods(this.data);\r\n    }\r\n}\r\n"]}