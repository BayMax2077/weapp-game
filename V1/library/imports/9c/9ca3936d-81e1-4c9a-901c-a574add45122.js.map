{"version":3,"sources":["assets\\scripts\\Home\\user\\userGameSetting.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\nimport State from '../../utils/state';\r\nimport Toggle from '../../perfab/script/Radio/toggle';\r\n\r\n@ccclass\r\nexport default class UserGameSetting extends cc.Component {\r\n    // 音乐节点\r\n    @property(cc.Slider) musicVolume: cc.Slider = null;\r\n    // 音效节点\r\n    @property(cc.Slider) effectVolume: cc.Slider = null;\r\n    // 背景音乐是否开启节点\r\n    @property(cc.ToggleContainer) bgm: cc.ToggleContainer = null;\r\n    // 游戏帧数节点\r\n    @property(cc.ToggleContainer) fps: cc.ToggleContainer = null;\r\n    // 是否初始化结束\r\n    initState = false;\r\n    \r\n    start() {\r\n        const { config } = State.system;\r\n        console.log(this.musicVolume);\r\n        this.musicVolume.progress = config.volume.music;\r\n        this.effectVolume.progress = config.volume.effects;\r\n        this.setToggleFouse(this.bgm, config.bgm);\r\n        this.setToggleFouse(this.fps, config.fps);\r\n\r\n        this.initState = true;\r\n    }\r\n\r\n\r\n    setToggleFouse(ToggleContainer: cc.ToggleContainer, value: any) {\r\n        const { children } = ToggleContainer.node;\r\n        for (const chi of children) {\r\n            if (chi._name === value) {\r\n                chi.getComponent(cc.Toggle).check();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * 修改音量时\r\n     * @param e 参数\r\n     */\r\n    MusicVolumeChang(e) {\r\n        const { volume } = State.system.config;\r\n        volume.music = e.progress;\r\n        State.system.updateSetting();\r\n    }\r\n\r\n\r\n    /**\r\n     * 修改音量时\r\n     * @param e 参数\r\n     */\r\n    EffectVolumeChang(e) {\r\n        const { volume } = State.system.config;\r\n        volume.effects = e.progress;\r\n        State.system.updateSetting();\r\n    }\r\n\r\n\r\n    /**\r\n     * 修改BGM时\r\n     * @param e 参数\r\n     */\r\n    BgmChang(e) {\r\n        State.system.config.bgm = e.target.name === 'on';\r\n        State.system.updateSetting();\r\n    }\r\n\r\n\r\n    /**\r\n     * 修改FPS选项时\r\n     * @param e 参数\r\n     */\r\n    FpsChang(e) {\r\n        State.system.config.fps = e.target.name;\r\n        State.system.updateSetting(this.initState);\r\n    }\r\n}\r\n"]}