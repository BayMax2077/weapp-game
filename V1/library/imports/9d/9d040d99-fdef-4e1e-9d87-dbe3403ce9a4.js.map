{"version":3,"sources":["assets\\resources\\prefab\\script\\popup.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,kFAAkF;AAClF,yFAAyF;AACzF,mBAAmB;AACnB,4FAA4F;AAC5F,mGAAmG;AACnG,8BAA8B;AAC9B,4FAA4F;AAC5F,mGAAmG;;;;;;;;;;;;;;;;;;;;;AAE7F,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAmC,yBAAY;IAA/C;QAAA,qEAmFC;QAlFG,OAAO;QACa,UAAI,GAAa,IAAI,CAAC;QAC1C,OAAO;QACY,cAAQ,GAAY,IAAI,CAAC;QAC5C,OAAO;QACY,iBAAW,GAAY,IAAI,CAAC;QAC/C,OAAO;QACY,mBAAa,GAAY,IAAI,CAAC;QACjD,OAAO;QACY,iBAAW,GAAY,IAAI,CAAC;QAC/C,KAAK;QAC6B,UAAI,GAAiB,IAAI,CAAC;QAE5D,OAAO;QACP,gBAAU,GAAQ,IAAI,CAAC;QACvB,OAAO;QACP,kBAAY,GAAQ,IAAI,CAAC;QACzB,OAAO;QACP,gBAAU,GAAQ,IAAI,CAAC;;IAgE3B,CAAC;IA9DG,qBAAK,GAAL;QACY,IAAA,QAAQ,GAAK,IAAI,SAAT,CAAU;QAC1B,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC;QACnB,QAAQ,CAAC,SAAS,CACd,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC,CAClD,CAAC;IACN,CAAC;IAGD;;;;OAIG;IACH,oBAAI,GAAJ,UAAK,OAAO;QACR,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC;QAC3B,EAAE,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IAChD,CAAC;IAED;;;;OAIG;IACH,wBAAQ,GAAR,UAAS,UAAyC,EAAE,KAAU,EAAE,IAAa;QACzE,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,GAAG,KAAK,CAAC;QACnC,IAAM,EAAE,GAAG,IAAI,KAAK,SAAS;YAEzB,CAAC,CAAC,IAAI;YACN,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;QACjC,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,CAAC,SAAS,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;IAC5F,CAAC;IAGD,uBAAO,GAAP,UAAQ,OAAe;QACnB,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC;IAC/B,CAAC;IAGD,qBAAK,GAAL;QACI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,EAAE,CAAC;IACzC,CAAC;IAGD,uBAAO,GAAP;QACI,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,EAAE,CAAC;IAC7C,CAAC;IAGD;;OAEG;IACH,qBAAK,GAAL;QAAA,iBASC;QARW,IAAA,QAAQ,GAAK,IAAI,SAAT,CAAU;QAC1B,QAAQ,CAAC,SAAS,CACd,EAAE,CAAC,QAAQ,CACP,EAAE,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,UAAU,EAAE,CAAC,EAC7C,EAAE,CAAC,QAAQ,CAAC,cAAM,OAAA,KAAI,CAAC,IAAI,CAAC,OAAO,EAAE,EAAnB,CAAmB,CAAC,CACzC,CACJ,CAAC;QACF,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,EAAE,CAAC;IACzC,CAAC;IAhFmB;QAAnB,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;uCAAuB;IAEvB;QAAlB,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;2CAA0B;IAEzB;QAAlB,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;8CAA6B;IAE5B;QAAlB,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;gDAA+B;IAE9B;QAAlB,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;8CAA6B;IAEb;QAAjC,QAAQ,CAAC,EAAE,IAAI,EAAE,EAAE,CAAC,SAAS,EAAE,CAAC;uCAA2B;IAZ3C,KAAK;QADzB,OAAO;OACa,KAAK,CAmFzB;IAAD,YAAC;CAnFD,AAmFC,CAnFkC,EAAE,CAAC,SAAS,GAmF9C;kBAnFoB,KAAK","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Popup extends cc.Component {\r\n    // 内容文本\r\n    @property(cc.Label) text: cc.Label = null;\r\n    // 弹窗主体\r\n    @property(cc.Node) popupBox: cc.Node = null;\r\n    // 关闭按钮\r\n    @property(cc.Node) closeButton: cc.Node = null;\r\n    // 成功按钮\r\n    @property(cc.Node) successButton: cc.Node = null;\r\n    // 重置按钮\r\n    @property(cc.Node) resetButton: cc.Node = null;\r\n    // 音效\r\n    @property({ type: cc.AudioClip }) clip: cc.AudioClip = null;\r\n\r\n    // 关闭事件\r\n    closeEvent: any = null;\r\n    // 确认事件\r\n    successEvent: any = null;\r\n    // 重置事件\r\n    resetEvent: any = null;\r\n\r\n    start () {\r\n        const { popupBox } = this;\r\n        popupBox.scale = 0;\r\n        popupBox.runAction(\r\n            cc.scaleTo(.3, 1, 1).easing(cc.easeBackInOut()),\r\n        );\r\n    }\r\n\r\n\r\n    /**\r\n     * 初始化\r\n     * @param message - 内容\r\n     * @param option  - 参数\r\n     */\r\n    init(message) {\r\n        this.text.string = message;\r\n        cc.audioEngine.playEffect(this.clip, false);\r\n    }\r\n\r\n    /**\r\n     * 设置事件\r\n     * @param event - 事件体\r\n     * @param show  - 是否显示\r\n     */\r\n    setEvent(buttonName: 'close' | 'success' | 'reset', event: any, show?: number) {\r\n        this[buttonName + 'Event'] = event;\r\n        const to = show !== undefined\r\n        \r\n            ? show\r\n            : event === null ? 0 : 1.202;\r\n        this[buttonName + 'Button'].runAction(cc.scaleTo(0.5, to, to).easing(cc.easeBackOut()));\r\n    }\r\n\r\n\r\n    message(message: string) {\r\n        this.text.string = message;\r\n    }\r\n\r\n\r\n    reset() {\r\n        this.resetEvent && this.resetEvent();\r\n    }\r\n\r\n\r\n    success() {\r\n        this.successEvent && this.successEvent();\r\n    }\r\n\r\n\r\n    /**\r\n     * 关闭时\r\n     */\r\n    close() {\r\n        const { popupBox } = this;\r\n        popupBox.runAction(\r\n            cc.sequence(\r\n                cc.scaleTo(0.3, 0, 0).easing(cc.easeBackIn()),\r\n                cc.callFunc(() => this.node.destroy()),\r\n            ),\r\n        );\r\n        this.closeEvent && this.closeEvent();\r\n    }\r\n}\r\n"]}