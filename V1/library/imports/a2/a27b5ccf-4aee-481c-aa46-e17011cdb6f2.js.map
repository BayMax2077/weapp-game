{"version":3,"sources":["assets\\scripts\\Home\\user\\userCenter-info.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\nimport State from '../../utils/state';\r\nimport { loadImg, uploadFile } from '../../../scripts/lib/tool';\r\nimport axios from '../../utils/axiosUtils';\r\n\r\n@ccclass\r\nexport default class NewClass extends cc.Component {\r\n    // 账号id\r\n    @property(cc.Label) id: cc.Label = null;\r\n    // 昵称\r\n    @property(cc.EditBox) nickName: cc.EditBox = null;\r\n    // 头像\r\n    @property(cc.Sprite) avatar: cc.Sprite = null;\r\n    // gender man\r\n    @property(cc.Sprite) man: cc.Sprite = null;\r\n    // gender woman\r\n    @property(cc.Sprite) woman: cc.Sprite = null;\r\n    // 账号\r\n    @property(cc.Label) account: cc.Label = null;\r\n    // 手机号\r\n    @property(cc.Label) mobile: cc.Label = null;\r\n\r\n\r\n    start () {\r\n        const { nickname, id, avatarUrl, account, gender, mobile } = State.userInfo;\r\n        this.nickName.string = nickname;\r\n        this.id.string = 'ID: ' + (id || '000000').toString();\r\n        this.account.string = account.toString();\r\n        loadImg(avatarUrl, spriteFrame => {\r\n            this.avatar.spriteFrame = spriteFrame;\r\n        }, 'avatar', id);\r\n        const emptyRadio = this.woman.spriteFrame;\r\n        gender === 1\r\n            ? (this.woman.spriteFrame = this.man.spriteFrame) && (this.man.spriteFrame = emptyRadio)\r\n            : null\r\n        ;\r\n\r\n        this.mobile.string = mobile;\r\n    }\r\n\r\n\r\n    /**\r\n     * 退出登录\r\n     */\r\n    outLogin() {\r\n        localStorage.clear();\r\n        State.io.disconnect();\r\n        cc.director.loadScene('loginPage');\r\n    }\r\n\r\n\r\n    /**\r\n     * 更换头像\r\n     */\r\n    resetAvatar() {\r\n        axios.api('get_reset_avatar').then(res => {\r\n            uploadFile(res, State.userInfo.id)\r\n                .then(res => {\r\n                    console.log(res);\r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                })\r\n            ;\r\n        });\r\n    }\r\n\r\n    \r\n    close() {\r\n        this.node.destroy();\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}