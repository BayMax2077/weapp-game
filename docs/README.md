# 微信小游戏平台 V2.0 项目文档

欢迎来到微信小游戏平台V2.0项目文档！这里包含了项目的完整技术文档，帮助开发团队更好地理解和维护项目。

**最后更新**: 2025-10-21  
**项目状态**: ✅ 纯小游戏模式测试通过，架构稳定，准备游戏逻辑实现

## 📚 文档目录

### 1. [项目概述](./项目概述.md)
- 项目基本信息
- 技术栈介绍
- 核心功能概述
- 项目结构说明
- V2.0版本特性

### 2. [V2游戏功能详解](./V2游戏功能详解.md)
- V2版本游戏迁移完成
- 4个完整游戏实现
- 现代化UI设计
- 统一游戏引擎
- 完善工具类库

### 3. [技术架构](./技术架构.md)
- 整体架构设计
- 核心模块说明
- 数据流架构
- 技术选型说明
- 性能优化策略
- V2.0架构升级

### 4. [开发指南](./开发指南.md)
- 开发环境搭建
- 代码规范说明
- 开发流程指导
- 调试技巧分享
- 部署指南
- V2.0开发规范

### 5. [开发避坑指南](./开发避坑指南.md)
- 微信小游戏开发避坑指南
- 常见问题解决方案
- 最佳实践总结
- 调试技巧分享

### 6. [API接口文档](./API接口文档.md)
- 用户相关接口
- 游戏相关接口
- 房间管理接口
- 商城系统接口
- 反馈系统接口
- 邮件系统接口
- 活动系统接口
- 错误处理说明

### 7. [CLAUDE开发指导](./CLAUDE.md)
- 项目开发指导
- 技术方案说明
- 开发计划
- 注意事项

## 🚀 快速开始

### 环境要求
- Node.js 18.0+ LTS ✅ (已安装 v24.9.0)
- 微信开发者工具 ✅ (已配置)
- 基础库版本: 2.19.6 ✅ (推荐版本)
- MongoDB 5.0+ ⚠️ (可选，支持内存存储)
- Redis 6.0+ ⚠️ (可选，支持内存存储)

### 安装步骤
```bash
# 克隆项目
git clone [项目地址]
cd weapp-game

# 进入V2版本目录
cd weapp-game-v2

# 安装依赖
npm install

# 配置环境变量
cp env.example .env
# 编辑 .env 文件，配置数据库连接等

# 启动后端服务
npm run dev

# 使用微信开发者工具打开 miniprogram 目录
```

### 构建部署
```bash
# 开发环境构建
npm run build

# 生产环境构建
npm run build:prod

# Docker部署
docker build -t weapp-game-v2 .
docker run -p 3000:3000 weapp-game-v2

# PM2部署
pm2 start server/app.js --name weapp-game-v2
```

## 🎮 游戏功能

### 支持的游戏类型
- **消消乐**: 三消类休闲游戏 (1-4人)
- **飞行棋**: 策略棋盘游戏 (2-4人)
- **四张牌**: 扑克牌游戏 (2-4人)
- **五子棋**: 策略棋类游戏 (2人)

### 核心特性
- 实时多人对战
- 房间系统管理
- 用户系统集成
- 商城道具系统
- 社交功能支持
- 商业化功能完整

### V2.0核心特性
- ✅ **纯小游戏模式**: 基于Canvas渲染，场景管理系统
- ✅ **4个完整游戏**: 消消乐、飞行棋、四张牌、五子棋
- ✅ **现代化UI**: 自定义UI组件，触摸事件支持
- ✅ **统一架构**: 场景管理、UI管理、资源管理
- ✅ **实时通信**: Socket.IO 4.x，支持多人对战
- ✅ **商业化功能**: 广告系统、支付系统、商城系统

## 🛠️ 技术特色

### 前端技术
- **微信小游戏**: 纯小游戏模式，Canvas渲染
- **场景管理**: SceneManager + BaseScene架构
- **UI组件**: 自定义Canvas UI组件系统
- **JavaScript ES2022**: 现代JavaScript语法
- **Socket.IO 4.x**: 实时通信支持

### 后端技术
- **Node.js 18+ LTS**: 高性能运行时
- **Express.js 4.x**: 轻量级Web框架
- **Socket.IO 4.x**: 实时通信
- **MongoDB**: 文档数据库
- **Redis**: 缓存系统
- **JWT**: 安全认证

### V2.0技术升级
- 数据库持久化存储
- 增强的认证机制
- 完整的API接口
- 模块化架构设计
- Docker容器化部署

## 📖 开发规范

### 代码规范
- 使用JavaScript ES2022进行开发
- 遵循模块化设计原则
- 统一的代码风格和命名规范
- 完善的注释和文档

### 项目结构
```
weapp-game/
├── V1/                    # V1版本归档 (已归档)
│   ├── assets/            # 游戏资源
│   ├── interface/         # 类型定义
│   └── ...                # V1版本文件
├── weapp-game-v2/         # V2版本项目 (当前版本)
│   ├── miniprogram/       # 小程序前端 ✅
│   │   ├── pages/         # 页面文件 ✅
│   │   ├── utils/         # 工具函数 ✅
│   │   └── styles/        # 样式文件 ✅
│   ├── server/            # 后端服务 ✅
│   │   ├── routes/        # API路由 ✅
│   │   ├── models/        # 数据模型 ✅
│   │   └── middleware/    # 中间件 ✅
│   ├── docs/              # 项目文档 ✅
│   └── package.json        # 项目配置 ✅
├── docs/                  # 主文档 ✅
│   ├── README.md          # 项目概述 ✅
│   ├── 项目概述.md         # 项目概述 ✅
│   ├── 技术架构.md         # 技术架构 ✅
│   ├── API接口文档.md      # API文档 ✅
│   ├── 开发指南.md         # 开发指南 ✅
│   ├── 游戏功能详解.md     # 游戏功能 ✅
│   └── CLAUDE.md          # 开发指导 ✅
└── .gitignore             # Git忽略文件
```

## 🤝 贡献指南

### 开发流程
1. Fork项目到个人仓库
2. 创建功能分支进行开发
3. 提交代码并创建Pull Request
4. 代码审查通过后合并

### 代码提交规范
```bash
# 功能开发
git commit -m "feat: 添加新游戏功能"

# 问题修复
git commit -m "fix: 修复游戏bug"

# 文档更新
git commit -m "docs: 更新API文档"
```

## 📋 项目状态

### V1版本 (已归档)
- **状态**: 已归档到 `V1/` 目录
- **技术栈**: Cocos Creator 2.4.4 + TypeScript
- **功能**: 基础游戏功能
- **维护**: 不再维护，仅作参考

### V2版本 (当前版本) ✅
- **状态**: 纯小游戏模式测试通过，架构稳定，准备游戏逻辑实现
- **技术栈**: 微信小游戏 + 场景管理 + Canvas UI + JavaScript ES2022
- **功能**: 4个完整游戏 + 现代化UI + 统一架构
- **维护**: 主要开发版本
- **完成情况**: 
  - ✅ 纯小游戏模式架构 (SceneManager + BaseScene)
  - ✅ 自定义UI组件系统 (Button、Card、Modal、Toast)
  - ✅ 4个完整游戏场景 (消消乐、飞行棋、四张牌、五子棋)
  - ✅ 场景切换和动画系统
  - ✅ 触摸事件处理
  - ✅ 资源管理系统

## 📞 联系方式

如有问题或建议，请通过以下方式联系：

- **项目Issues**: [GitHub Issues](项目Issues链接)
- **技术讨论**: [技术讨论群](讨论群链接)
- **邮件联系**: [联系邮箱](邮箱地址)

## 📄 许可证

本项目采用 [MIT许可证](LICENSE) 开源协议。

---

**注意**: 本文档会随着项目的发展持续更新，请定期查看最新版本。V2版本是当前主要开发版本，V1版本已归档。

---

**文档更新时间**: 2025-10-21  
**项目状态**: ✅ 纯小游戏模式测试通过，架构稳定，准备游戏逻辑实现  
**下一步**: 游戏逻辑实现和功能扩展
